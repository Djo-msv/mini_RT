--------------------------------------------------------------------------------
Profile data file 'callgrind.out.4076488' (creator: callgrind-3.18.1)
--------------------------------------------------------------------------------
I1 cache: 
D1 cache: 
LL cache: 
Timerange: Basic block 0 - 1645200536
Trigger: Program termination
Profiled target:  ./miniRT scenes/test.rt (PID 4076488, part 1)
Events recorded:  Ir
Events shown:     Ir
Event sort order: Ir
Thresholds:       99
Include dirs:     
User annotated:   
Auto-annotation:  on

--------------------------------------------------------------------------------
Ir                      
--------------------------------------------------------------------------------
12,262,094,744 (100.0%)  PROGRAM TOTALS

--------------------------------------------------------------------------------
Ir                      file:function
--------------------------------------------------------------------------------
4,026,624,000 (32.84%)  srcs/render/resolution.c:handle_low_resolution [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
3,764,560,807 (30.70%)  ???:mlx::Texture::SetRegion(int, int, int, int, mlx_color*) [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/MacroLibX/libmlx.so]
  581,107,728 ( 4.74%)  srcs/render/shape/sphere.c:hit_sphere [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  413,364,965 ( 3.37%)  srcs/render/render.c:ray_color [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  387,072,000 ( 3.16%)  srcs/math/equation.c:scalar_product [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  336,222,340 ( 2.74%)  srcs/math/equation.c:normalize [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  331,385,520 ( 2.70%)  srcs/math/vector.c:vec_sub [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  316,576,556 ( 2.58%)  srcs/math/vector.c:create_vec [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  227,509,199 ( 1.86%)  ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:__memcpy_avx_unaligned_erms [/usr/lib/x86_64-linux-gnu/libc.so.6]
  206,976,000 ( 1.69%)  srcs/render/antialiasing.c:get_antialiasing [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  167,545,440 ( 1.37%)  srcs/math/vector.c:vec_add [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  160,512,000 ( 1.31%)  srcs/render/make_average_pixel.c:average_pixel [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  152,760,538 ( 1.25%)  ./elf/./elf/dl-lookup.c:do_lookup_x [/usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2]
  150,348,800 ( 1.23%)  srcs/display/mlx_screen.c:handle_pixel [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  145,956,852 ( 1.19%)  srcs/render/setup_render.c:create_ray_direction [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  138,224,922 ( 1.13%)  srcs/math/vector.c:vec_mul [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  123,076,128 ( 1.00%)  ???:ft_memset [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
  112,896,004 ( 0.92%)  srcs/render/render.c:render [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
   67,200,000 ( 0.55%)  srcs/math/ray.c:create_ray [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
   44,191,380 ( 0.36%)  ./math/./math/w_sqrt_compat.c:sqrt [/usr/lib/x86_64-linux-gnu/libm.so.6]
   32,675,592 ( 0.27%)  srcs/display/mlx_screen.c:display_screen [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/miniRT]
   26,514,828 ( 0.22%)  ./math/../sysdeps/ieee754/dbl-64/e_sqrt.c:__sqrt_finite@GLIBC_2.15 [/usr/lib/x86_64-linux-gnu/libm.so.6]
   23,738,316 ( 0.19%)  ???:0x0000000000f817f0 [/usr/lib/x86_64-linux-gnu/libnvidia-glcore.so.565.57.01]
   19,926,224 ( 0.16%)  ???:mlx::Font::BuildFont() [/home/jmassavi/Documents/commun_core/circle-4/mini_RT/MacroLibX/libmlx.so]
   19,443,478 ( 0.16%)  ./elf/./elf/dl-lookup.c:_dl_lookup_symbol_x [/usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2]
   17,553,294 ( 0.14%)  ./libio/./libio/getc.c:getc [/usr/lib/x86_64-linux-gnu/libc.so.6]
   15,226,538 ( 0.12%)  ./string/../sysdeps/x86_64/multiarch/memset-vec-unaligned-erms.S:__memset_avx2_unaligned_erms [/usr/lib/x86_64-linux-gnu/libc.so.6]
    9,109,191 ( 0.07%)  ./elf/../sysdeps/x86_64/dl-machine.h:_dl_relocate_object
    8,234,161 ( 0.07%)  ???:0x0000000000061fd0 [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    8,105,611 ( 0.07%)  ???:_XimParseStringFile [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    7,529,617 ( 0.06%)  ./string/../sysdeps/x86_64/multiarch/strcspn-c.c:__strcspn_sse42 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    7,104,836 ( 0.06%)  ./string/../sysdeps/x86_64/multiarch/strcmp-avx2.S:__strcmp_avx2 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    6,964,008 ( 0.06%)  ???:0x0000000000061f70 [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    6,383,016 ( 0.05%)  ./libio/./libio/libioP.h:getc
    6,152,633 ( 0.05%)  ./malloc/./malloc/malloc.c:_int_malloc [/usr/lib/x86_64-linux-gnu/libc.so.6]
    4,923,421 ( 0.04%)  ./malloc/./malloc/malloc.c:_int_free [/usr/lib/x86_64-linux-gnu/libc.so.6]
    4,774,349 ( 0.04%)  ./elf/./elf/do-rel.h:_dl_relocate_object
    4,611,249 ( 0.04%)  ???:0x00000000000175b0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    4,439,082 ( 0.04%)  ???:0x00000000010167d0 [/usr/lib/x86_64-linux-gnu/libnvidia-glcore.so.565.57.01]
    4,389,738 ( 0.04%)  ???:0x0000000000cdee00 [/usr/lib/x86_64-linux-gnu/libnvidia-glcore.so.565.57.01]
    4,012,868 ( 0.03%)  ./nptl/./nptl/pthread_mutex_lock.c:pthread_mutex_lock@@GLIBC_2.2.5 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    3,873,480 ( 0.03%)  ???:0x0000000000013a80 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    3,569,678 ( 0.03%)  ???:XStringToKeysym [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    3,568,642 ( 0.03%)  ./string/../sysdeps/x86_64/strcmp.S:strcmp [/usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2]
    3,297,037 ( 0.03%)  ./stdlib/../stdlib/strtol_l.c:____strtoul_l_internal [/usr/lib/x86_64-linux-gnu/libc.so.6]
    3,221,158 ( 0.03%)  ???:0x000000000004c190 [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    3,037,143 ( 0.02%)  ???:0x0000000000013480 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    3,028,936 ( 0.02%)  ./nptl/./nptl/pthread_mutex_unlock.c:pthread_mutex_unlock@@GLIBC_2.2.5 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    2,817,016 ( 0.02%)  /usr/lib/gcc/x86_64-linux-gnu/11/include/smmintrin.h:__strcspn_sse42
    2,444,197 ( 0.02%)  ./malloc/./malloc/malloc.c:malloc [/usr/lib/x86_64-linux-gnu/libc.so.6]
    2,231,530 ( 0.02%)  ???:_XrmInternalStringToQuark [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    2,076,718 ( 0.02%)  ???:0x00000000000a19d0 [/usr/lib/x86_64-linux-gnu/libGLX_nvidia.so.565.57.01]
    2,043,728 ( 0.02%)  ???:0x0000000000a2b000 [/usr/lib/x86_64-linux-gnu/libnvidia-glcore.so.565.57.01]
    2,041,970 ( 0.02%)  ./string/../sysdeps/x86_64/multiarch/strlen-avx2.S:__strlen_avx2 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    1,992,917 ( 0.02%)  ???:0x0000000000008660'2 [/usr/lib/x86_64-linux-gnu/libvulkan.so.1.4.313]
    1,633,818 ( 0.01%)  ./stdio-common/./stdio-common/vfprintf-internal.c:__vfprintf_internal [/usr/lib/x86_64-linux-gnu/libc.so.6]
    1,559,700 ( 0.01%)  ./stdlib/./stdlib/getenv.c:getenv [/usr/lib/x86_64-linux-gnu/libc.so.6]
    1,473,050 ( 0.01%)  ???:XrmStringToQuark [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/shape/sphere.c
--------------------------------------------------------------------------------
Ir                   

          .           #include "miniRT.h"
          .           
          .           float hit_sphere(t_coordinate center, double radius, t_ray r)
 64,512,000 ( 0.53%)  {
139,776,000 ( 1.14%)      t_vec oc = vec_sub((t_vec){center.x, center.y, center.z}, r.origin);
317,184,000 ( 2.59%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (5,376,000x)
 80,640,000 ( 0.66%)      float a = scalar_product(r.direction, r.direction);
129,024,000 ( 1.05%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:scalar_product (5,376,000x)
 75,264,000 ( 0.61%)      float b = scalar_product(r.direction, oc);
129,024,000 ( 1.05%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:scalar_product (5,376,000x)
102,144,000 ( 0.83%)      float c = scalar_product(oc, oc) - radius * radius;
129,024,000 ( 1.05%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:scalar_product (5,376,000x)
 32,256,000 ( 0.26%)      float discriminant = b * b - a * c;
          .           
 26,880,000 ( 0.22%)      if (discriminant < 0.0)
 10,627,068 ( 0.09%)          return -1.0;
          .           	else
 27,504,660 ( 0.22%)          return (b - sqrt(discriminant)) / (a);
 14,669,152 ( 0.12%)  => ./math/./math/w_sqrt_compat.c:sqrt (1,833,644x)
 21,504,000 ( 0.18%)  }
          .           

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/make_average_pixel.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           void	average_pixel(mlx_color *n_pixel, mlx_color o_pixel, float coef_new_p, float coef_old_p)
16,051,200 ( 0.13%)  {
         .           	float	tmp;
         .           
29,427,200 ( 0.24%)  	tmp = n_pixel->r * coef_old_p + o_pixel.r * coef_new_p;
18,726,400 ( 0.15%)  	n_pixel->r = (uint8_t)(tmp + 0.5f); 
29,427,200 ( 0.24%)  	tmp = n_pixel->g * coef_old_p + o_pixel.g * coef_new_p;
16,051,200 ( 0.13%)  	n_pixel->g = (uint8_t)(tmp + 0.5f); 
29,427,200 ( 0.24%)  	tmp = n_pixel->b * coef_old_p + o_pixel.b * coef_new_p;
16,051,200 ( 0.13%)  	n_pixel->b = (uint8_t)(tmp + 0.5f);
 5,350,400 ( 0.04%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/display/mlx_screen.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           void	handle_pixel(t_data *data, int x, int y, int resolution)
18,816,000 ( 0.15%)  {
         .           	int			pos;
         .           	t_mlx		*mlx;
         .           
 5,376,000 ( 0.04%)  	mlx = &data->mlx;
13,440,000 ( 0.11%)  	pos = y * mlx->info.width + x;
40,320,000 ( 0.33%)  	data->image.new_img[pos] = render(data, x, y);
2,990,014,403 (24.38%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/render/render.c:render (2,688,000x)
 8,064,000 ( 0.07%)  	if (data->image.nb_images > 1)
18,726,400 ( 0.15%)  		average_pixel(&data->image.new_img[pos], \
160,512,000 ( 1.31%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/render/make_average_pixel.c:average_pixel (2,675,200x)
 8,025,600 ( 0.07%)  			data->image.old_img[pos], \
10,700,800 ( 0.09%)  			data->image.coef_new_p, data->image.coef_old_p);
 5,376,000 ( 0.04%)  	if (resolution != 1)
13,440,000 ( 0.11%)  		handle_low_resolution(data, x, y, resolution);
4,026,624,000 (32.84%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/render/resolution.c:handle_low_resolution (2,688,000x)
         .           
 8,064,000 ( 0.07%)  }
         .           
         .           void	swap_img_buf(t_data *data)
     1,260 ( 0.00%)  {
         .           	mlx_color	*buf;
         .           
     1,260 ( 0.00%)  	buf = 	data->image.new_img;
     1,680 ( 0.00%)  	data->image.new_img = data->image.old_img;
     1,260 ( 0.00%)  	data->image.old_img = buf;
       840 ( 0.00%)  }
         .           
         .           void	display_screen(t_data *data)
     1,680 ( 0.00%)  {
         .           	int	x;
         .           	int	y;
         .           	int	resolution;
     2,100 ( 0.00%)  	mlx_window_create_info	info = data->mlx.info;
         .           
       420 ( 0.00%)  	y = 0;
    13,020 ( 0.00%)  	data->image.coef_new_p = ((float)data->image.nb_images / (float)(data->image.nb_images + 1));
     7,980 ( 0.00%)  	data->image.coef_old_p = (1.0f / (data->image.nb_images + 1));
     1,260 ( 0.00%)  	resolution = data->image.resolution;
   135,660 ( 0.00%)  	while (y < info.height)
         .           	{
    33,600 ( 0.00%)  		x = 0;
10,852,800 ( 0.09%)  		while (x < info.width)
         .           		{
13,440,000 ( 0.11%)  			handle_pixel(data, x, y, resolution);
7,327,499,203 (59.76%)  => srcs/display/mlx_screen.c:handle_pixel (2,688,000x)
 8,064,000 ( 0.07%)  			x += resolution;
         .           		}
   100,800 ( 0.00%)  		y += resolution;
         .           	}
     5,464 ( 0.00%)  	mlx_set_image_region(data->mlx.mlx, data->mlx.img, 0, 0, info.width, info.height, data->image.new_img);
3,764,634,383 (30.70%)  => ???:mlx_set_image_region (420x)
       777 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
     3,364 ( 0.00%)  	mlx_clear_window(data->mlx.mlx, data->mlx.win, (mlx_color){ .rgba = 0x000000FF});
   195,077 ( 0.00%)  => ???:mlx_clear_window (420x)
       734 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
     4,204 ( 0.00%)  	mlx_put_image_to_window(data->mlx.mlx, data->mlx.win, data->mlx.img, 0, 0);
 1,356,245 ( 0.01%)  => ???:mlx_put_image_to_window (420x)
       790 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
       840 ( 0.00%)  	swap_img_buf(data);
     6,300 ( 0.00%)  => srcs/display/mlx_screen.c:swap_img_buf (420x)
     1,680 ( 0.00%)  	data->image.nb_images++;
     1,260 ( 0.00%)  }

     5,460 ( 0.00%)  <counts for unidentified lines in srcs/display/mlx_screen.c>

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/antialiasing.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           t_ray get_antialiasing(t_data *data, t_vec base_ray)
32,256,000 ( 0.26%)  {
16,128,000 ( 0.13%)  	t_setting_cam	cam = data->setting_cam;
80,640,000 ( 0.66%)  => ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:__memcpy_avx_unaligned_erms (2,688,000x)
 8,064,000 ( 0.07%)  	if (!data->image.antialiasing)
         .           		return (create_ray(cam.camera_center, base_ray));
34,944,000 ( 0.28%)  	t_vec dir = normalize(base_ray);
150,528,745 ( 1.23%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:normalize (2,688,000x)
         .           
10,752,000 ( 0.09%)  	dir.i += cam.rand_h;
10,752,000 ( 0.09%)  	dir.j += cam.rand_v;
48,384,000 ( 0.39%)  	dir = normalize(dir);
150,528,000 ( 1.23%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:normalize (2,688,000x)
34,944,000 ( 0.28%)  	return create_ray (cam.camera_center, dir);
67,200,000 ( 0.55%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/ray.c:create_ray (2,688,000x)
 8,064,000 ( 0.07%)  }

 2,688,000 ( 0.02%)  <counts for unidentified lines in srcs/render/antialiasing.c>

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/render.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           mlx_color	ray_color(t_data *data, t_ray ray)
16,128,000 ( 0.13%)  {
 5,376,000 ( 0.04%)  	float	t = -1;
 5,376,000 ( 0.04%)  	float	old_t = 0;
         .           	mlx_color	pixel;
16,128,000 ( 0.13%)  	t_scene		scene = data->scene;
59,136,000 ( 0.48%)  => ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:__memcpy_avx_unaligned_erms (2,688,000x)
 5,376,000 ( 0.04%)  	t_list		*tmp = scene.sphere;
         .           	t_sphere 	*sphere;
         .           
21,504,000 ( 0.18%)  	while (tmp)
         .           	{
16,128,000 ( 0.13%)  		sphere = (t_sphere *)tmp->content;
86,016,000 ( 0.70%)  		t = hit_sphere(sphere->coordinate, sphere->diameter, ray);
1,300,032,880 (10.60%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/render/shape/sphere.c:hit_sphere (5,376,000x)
         .           //		if (t != -1.0f)
         .           //			printf("%f - %f\n", t, old_t);
36,536,959 ( 0.30%)  		if (t > 0.0f && (t < old_t || old_t == 0))
         .           		{
55,373,488 ( 0.45%)  			t_vec point = vec_add(ray.origin, vec_mul(ray.direction, t));
96,089,288 ( 0.78%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_add (1,628,632x)
84,688,864 ( 0.69%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_mul (1,628,632x)
66,773,912 ( 0.54%)  			t_vec normal = normalize(vec_sub(point, (t_vec){sphere->coordinate.x, sphere->coordinate.y, sphere->coordinate.z}));
96,089,288 ( 0.78%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (1,628,632x)
91,203,392 ( 0.74%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:normalize (1,628,632x)
11,400,424 ( 0.09%)  			pixel.r = (uint8_t)(255.0f * 0.5f * (normal.i + 1.0f));
 8,143,160 ( 0.07%)  			pixel.g = (uint8_t)(255.0f * 0.5f * (normal.j + 1.0f));
 8,143,160 ( 0.07%)  			pixel.b = (uint8_t)(255.0f * 0.5f * (normal.k + 1.0f));
 1,628,632 ( 0.01%)  			pixel.a = 255;
 3,257,264 ( 0.03%)  			old_t = t;
         .           		}
16,128,000 ( 0.13%)  		tmp = tmp->next;
         .           	}
10,752,000 ( 0.09%)  	if (old_t > 0.0f)
         .           	{
 4,127,001 ( 0.03%)  		return (pixel);	
         .           	}
 1,312,333 ( 0.01%)  	return ((mlx_color){ .rgba = 0xFFFFFFFF });
10,752,000 ( 0.09%)  }
         .           
         .           mlx_color	render(t_data *data, int x, int y)
16,128,000 ( 0.13%)  {
         .           	t_setting_cam	camera;
         .           
16,128,004 ( 0.13%)  	camera = data->setting_cam;
80,640,000 ( 0.66%)  => ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:__memcpy_avx_unaligned_erms (2,688,000x)
       977 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
80,640,000 ( 0.66%)  	return (ray_color(data, get_antialiasing(data, camera.ray_direction[x][y])));
2,140,604,677 (17.46%)  => srcs/render/render.c:ray_color (2,688,000x)
655,872,745 ( 5.35%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/render/antialiasing.c:get_antialiasing (2,688,000x)
         .           }

 7,004,632 ( 0.06%)  <counts for unidentified lines in srcs/render/render.c>

--------------------------------------------------------------------------------
-- Auto-annotated source: /usr/lib/gcc/x86_64-linux-gnu/11/include/smmintrin.h
--------------------------------------------------------------------------------
Ir                 

-- line 626 ----------------------------------------
        .             return (__m128i) __builtin_ia32_pcmpistrm128 ((__v16qi)__X,
        .           						(__v16qi)__Y,
        .           						__M);
        .           }
        .           
        .           extern __inline int __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpistri (__m128i __X, __m128i __Y, const int __M)
        .           {
1,091,923 ( 0.01%)    return __builtin_ia32_pcmpistri128 ((__v16qi)__X,
        .           				      (__v16qi)__Y,
        .           				      __M);
        .           }
        .           
        .           extern __inline __m128i __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpestrm (__m128i __X, int __LX, __m128i __Y, int __LY, const int __M)
        .           {
        .             return (__m128i) __builtin_ia32_pcmpestrm128 ((__v16qi)__X, __LX,
-- line 642 ----------------------------------------
-- line 679 ----------------------------------------
        .             return __builtin_ia32_pcmpistria128 ((__v16qi)__X,
        .           				       (__v16qi)__Y,
        .           				       __M);
        .           }
        .           
        .           extern __inline int __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpistrc (__m128i __X, __m128i __Y, const int __M)
        .           {
1,115,761 ( 0.01%)    return __builtin_ia32_pcmpistric128 ((__v16qi)__X,
        .           				       (__v16qi)__Y,
        .           				       __M);
        .           }
        .           
        .           extern __inline int __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpistro (__m128i __X, __m128i __Y, const int __M)
        .           {
        .             return __builtin_ia32_pcmpistrio128 ((__v16qi)__X,
-- line 695 ----------------------------------------
-- line 703 ----------------------------------------
        .             return __builtin_ia32_pcmpistris128 ((__v16qi)__X,
        .           				       (__v16qi)__Y,
        .           				       __M);
        .           }
        .           
        .           extern __inline int __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpistrz (__m128i __X, __m128i __Y, const int __M)
        .           {
  621,578 ( 0.01%)    return __builtin_ia32_pcmpistriz128 ((__v16qi)__X,
        .           				       (__v16qi)__Y,
        .           				       __M);
        .           }
        .           
        .           extern __inline int __attribute__((__gnu_inline__, __always_inline__, __artificial__))
        .           _mm_cmpestra (__m128i __X, int __LX, __m128i __Y, int __LY, const int __M)
        .           {
        .             return __builtin_ia32_pcmpestria128 ((__v16qi)__X, __LX,
-- line 719 ----------------------------------------

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/math/vector.c
--------------------------------------------------------------------------------
Ir                   

          .           #include "miniRT.h"
          .           
          .           t_vec create_vec(float i, float j, float k)
 83,309,620 ( 0.68%)  {
          .               t_vec vec;
          .           
 33,323,848 ( 0.27%)      vec.i = i;
 33,323,848 ( 0.27%)      vec.j = j;
 33,323,848 ( 0.27%)      vec.k = k;
133,295,392 ( 1.09%)      return (vec);
          .           }
          .           
          .           t_vec vec_add(t_vec vec1, t_vec vec2)
 62,829,540 ( 0.51%)  {
104,715,900 ( 0.85%)      return (create_vec(vec1.i + vec2.i, vec1.j + vec2.j, vec1.k + vec2.k));
 79,584,084 ( 0.65%)  => srcs/math/vector.c:create_vec (4,188,636x)
          .           }
          .           
          .           t_vec vec_sub(t_vec vec1, t_vec vec2)
124,269,570 ( 1.01%)  {
207,115,950 ( 1.69%)      return (create_vec(vec1.i - vec2.i, vec1.j - vec2.j, vec1.k - vec2.k));
157,408,122 ( 1.28%)  => srcs/math/vector.c:create_vec (8,284,638x)
          .           }
          .           
          .           t_vec vec_mul(t_vec vec, float mult)
 41,886,340 ( 0.34%)  {
 96,338,582 ( 0.79%)      return (create_vec(vec.i * mult, vec.j * mult, vec.k * mult));
 79,584,046 ( 0.65%)  => srcs/math/vector.c:create_vec (4,188,634x)
          .           }
          .           
          .           t_vec vec_div(t_vec vec, float div)
         80 ( 0.00%)  {
         32 ( 0.00%)      if (div == 0.0f)
          .               {
          .                   fprintf(stderr, "Erreur : division par zÃ©ro dans vec_div\n");
          .                   return (create_vec(0.0f, 0.0f, 0.0f));
          .               }
        112 ( 0.00%)      return (create_vec(vec.i / div, vec.j / div, vec.k / div));
        152 ( 0.00%)  => srcs/math/vector.c:create_vec (8x)
         72 ( 0.00%)  }
          .           
          .           t_vec vec_cross(t_vec a, t_vec b) {
          .               return create_vec(
          .                   a.j * b.k - a.k * b.j,
          .                   a.k * b.i - a.i * b.k,
          .                   a.i * b.j - a.j * b.i);
          .           }

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/resolution.c
--------------------------------------------------------------------------------
Ir                     

            .           #include "miniRT.h"
            .           
            .           void	handle_low_resolution(t_data *data, int x, int y, int resolution)
   16,128,000 ( 0.13%)  {
            .           	int	end_x;
            .           	int	end_y;
    5,376,000 ( 0.04%)  	int	base_x = x;
            .           	int	pos;
            .           	mlx_color	*image;
            .           	mlx_color	pixel;
            .           
    8,064,000 ( 0.07%)  	end_x = x + resolution;
    8,064,000 ( 0.07%)  	end_y = y + resolution;
            .           //	printf("%d - %d / %d - %d\n", x, y, end_x, end_y);
   10,752,000 ( 0.09%)  	if (end_x > data->mlx.info.width)
            .           		end_x = data->mlx.info.width;
   10,752,000 ( 0.09%)  	if (end_y > data->mlx.info.height)
            .           		end_y = data->mlx.info.height;
    8,064,000 ( 0.07%)  	image = data->image.new_img;
   21,504,000 ( 0.18%)  	pixel = image[y * data->mlx.info.width + x];
  115,584,000 ( 0.94%)  	while (y != end_y)
            .           	{
  107,520,000 ( 0.88%)  		pos = y * data->mlx.info.width;
   53,760,000 ( 0.44%)  		x = base_x;
1,155,840,000 ( 9.43%)  		while (x != end_x)
            .           		{
1,612,800,000 (13.15%)  			image[pos + x] = pixel;
  806,400,000 ( 6.58%)  			x++;
            .           		}
   80,640,000 ( 0.66%)  		y++;
            .           	}
    5,376,000 ( 0.04%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/math/ray.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           t_ray	create_ray(t_vec origin, t_vec direction)
40,320,000 ( 0.33%)  {
         .           	t_ray	ray;
         .           
10,752,000 ( 0.09%)  	ray.origin = origin;
10,752,000 ( 0.09%)  	ray.direction = direction;
 5,376,000 ( 0.04%)  	return (ray);
         .           }

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/math/equation.c
--------------------------------------------------------------------------------
Ir                   

          .           #include "miniRT.h"
          .           
          .           float scalar_product(t_vec a, t_vec b)
225,792,000 ( 1.84%)  {
161,280,000 ( 1.32%)      return a.i * b.i + a.j * b.j + a.k * b.k;
          .           }
          .           
          .           t_vec normalize(t_vec v)
 63,041,688 ( 0.51%)  {
          .           	t_vec unit;
 91,060,220 ( 0.74%)      float length = sqrt(v.i * v.i + v.j * v.j + v.k * v.k);
 56,037,056 ( 0.46%)  => ./math/./math/w_sqrt_compat.c:sqrt (7,004,632x)
        741 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
          .           
 28,018,528 ( 0.23%)      if (length == 0)
          .           	{
          .                   t_vec zero = {0, 0, 0};
          .                   return zero;
          .               }
          .           
 21,013,896 ( 0.17%)      unit.i = v.i / length;
 21,013,896 ( 0.17%)      unit.j = v.j / length;
 21,013,896 ( 0.17%)      unit.k = v.k / length;
 28,018,528 ( 0.23%)      return (unit);
 63,041,688 ( 0.51%)  }
          .           
          .           float length(t_vec v)
         36 ( 0.00%)  {
         56 ( 0.00%)  	return sqrtf(v.i * v.i + v.j * v.j + v.k * v.k);
        754 ( 0.00%)  => ./elf/../sysdeps/x86_64/dl-trampoline.h:_dl_runtime_resolve_xsave (1x)
         32 ( 0.00%)  => ./math/./math/w_sqrtf_compat.c:sqrtf (4x)
          .           }
          .           
          .           t_vec	cross(t_vec a, t_vec b)
          .           {
          .           	t_vec result;
          .           	result.i = a.j * b.k - a.k * b.j;
          .           	result.j = a.k * b.i - a.i * b.k;
          .           	result.k = a.i * b.j - a.j * b.i;
-- line 35 ----------------------------------------

--------------------------------------------------------------------------------
-- Auto-annotated source: srcs/render/setup_render.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "miniRT.h"
         .           
         .           void	create_ray_direction(t_setting_cam *scene)
         8 ( 0.00%)  {
         .           	int		x;
         .           	int		y;
         .           	t_vec	pixel_center;
         .           
        18 ( 0.00%)  	scene->ray_direction = ft_calloc((scene->width + 1), sizeof(t_vec *));
   160,731 ( 0.00%)  => ???:ft_calloc (2x)
        10 ( 0.00%)  	scene->ray_direction[(int)scene->width] = NULL;
         2 ( 0.00%)  	x = 0;
     8,008 ( 0.00%)  	while (x != scene->width)
         .           	{
     1,600 ( 0.00%)  		y = 0;
    16,000 ( 0.00%)  		scene->ray_direction[x] = malloc((scene->height) * sizeof(t_vec));
   529,718 ( 0.00%)  => ./malloc/./malloc/malloc.c:malloc (1,600x)
 6,406,400 ( 0.05%)  		while (y != scene->height)
         .           		{
29,440,000 ( 0.24%)  			pixel_center = vec_add(
75,520,000 ( 0.62%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_add (1,280,000x)
46,080,000 ( 0.38%)      			vec_add(scene->pixel00_loc, vec_mul(scene->pixel_delta_h, x)),
75,520,000 ( 0.62%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_add (1,280,000x)
66,560,000 ( 0.54%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_mul (1,280,000x)
19,200,000 ( 0.16%)      			vec_mul(scene->pixel_delta_v, y));
66,560,000 ( 0.54%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_mul (1,280,000x)
40,960,000 ( 0.33%)  			scene->ray_direction[x][y] = vec_sub(pixel_center, scene->camera_center);
75,520,000 ( 0.62%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (1,280,000x)
 3,840,000 ( 0.03%)  			y++;
         .           		}
     4,800 ( 0.00%)  		x++;
         .           	}
         6 ( 0.00%)  }
         .           
         .           void	calcule_res(t_data *data, t_setting_cam *cam)
        10 ( 0.00%)  {
        42 ( 0.00%)  	cam->pixel_delta_h = vec_div(cam->viewport_h, cam->width);
       112 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_div (2x)
        42 ( 0.00%)  	cam->pixel_delta_v = vec_div(cam->viewport_v, cam->height);
       112 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_div (2x)
        52 ( 0.00%)  	cam->viewport_upper_left = vec_sub(
       118 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (2x)
        40 ( 0.00%)      vec_sub(
       118 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (2x)
        60 ( 0.00%)          vec_sub(cam->camera_center, create_vec(0, 0, cam->focal_length)),
       118 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_sub (2x)
        38 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:create_vec (2x)
        32 ( 0.00%)          vec_div(cam->viewport_h, 2)),
       112 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_div (2x)
        28 ( 0.00%)      	vec_div(cam->viewport_v, 2));
       112 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_div (2x)
       120 ( 0.00%)  	cam->pixel00_loc = vec_add(cam->viewport_upper_left, vec_mul(vec_add(cam->pixel_delta_h, cam->pixel_delta_v), 0.5f));
       236 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_add (4x)
       104 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:vec_mul (2x)
        26 ( 0.00%)  	cam->res_h = length(cam->pixel_delta_h) * data->image.resolution;
       818 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:length (2x)
        26 ( 0.00%)  	cam->res_v = length(cam->pixel_delta_v) * data->image.resolution;
        60 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/equation.c:length (2x)
         6 ( 0.00%)  }
         .           
         .           void	calcule_scene(t_data *data, t_setting_cam *scene)
        10 ( 0.00%)  {
        12 ( 0.00%)  	scene->ratio = (float)data->mlx.info.width / data->mlx.info.height;
         8 ( 0.00%)  	scene->width = data->mlx.info.width;
         8 ( 0.00%)  	scene->height = data->mlx.info.height;
         4 ( 0.00%)  	scene->focal_length = 1.0f;
         4 ( 0.00%)  	scene->viewport_height = 2.0f;
        10 ( 0.00%)  	scene->viewport_width = scene->viewport_height * scene->ratio;
        38 ( 0.00%)  	scene->camera_center = create_vec(0, 0, 0);
        38 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:create_vec (2x)
        34 ( 0.00%)  	scene->viewport_h = create_vec(scene->viewport_width, 0, 0);
        38 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:create_vec (2x)
        32 ( 0.00%)  	scene->viewport_v = create_vec(0, scene->viewport_height, 0);
        38 ( 0.00%)  => /home/jmassavi/Documents/commun_core/circle-4/mini_RT/srcs/math/vector.c:create_vec (2x)
         6 ( 0.00%)  }
         .           
         .           void	setup_camera_setting(t_data *data)
         8 ( 0.00%)  {
         .           	t_setting_cam *scene;
         .           
         6 ( 0.00%)  	scene = &data->setting_cam;
         6 ( 0.00%)  	calcule_scene(data, scene);
       280 ( 0.00%)  => srcs/render/setup_render.c:calcule_scene (2x)
         6 ( 0.00%)  	calcule_res(data, scene);
     2,542 ( 0.00%)  => srcs/render/setup_render.c:calcule_res (2x)
         4 ( 0.00%)  	create_ray_direction(scene);
506,327,301 ( 4.13%)  => srcs/render/setup_render.c:create_ray_direction (2x)
         6 ( 0.00%)  }

--------------------------------------------------------------------------------
The following files chosen for auto-annotation could not be found:
--------------------------------------------------------------------------------
  ./elf/../sysdeps/x86_64/dl-machine.h
  ./elf/./elf/dl-lookup.c
  ./elf/./elf/do-rel.h
  ./libio/./libio/getc.c
  ./libio/./libio/libioP.h
  ./malloc/./malloc/malloc.c
  ./math/../sysdeps/ieee754/dbl-64/e_sqrt.c
  ./math/./math/w_sqrt_compat.c
  ./nptl/./nptl/pthread_mutex_lock.c
  ./nptl/./nptl/pthread_mutex_unlock.c
  ./stdio-common/./stdio-common/vfprintf-internal.c
  ./stdlib/../stdlib/strtol_l.c
  ./stdlib/./stdlib/getenv.c
  ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
  ./string/../sysdeps/x86_64/multiarch/memset-vec-unaligned-erms.S
  ./string/../sysdeps/x86_64/multiarch/strcmp-avx2.S
  ./string/../sysdeps/x86_64/multiarch/strcspn-c.c
  ./string/../sysdeps/x86_64/multiarch/strlen-avx2.S
  ./string/../sysdeps/x86_64/strcmp.S

--------------------------------------------------------------------------------
Ir                     
--------------------------------------------------------------------------------
7,567,827,263 (61.72%)  events annotated

