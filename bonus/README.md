# RT_Xtrem - Raytracing Engine

## üìã Table of Contents
1. [About](#-about)
2. [Features](#-features)
3. [Compilation](#-compilation)
4. [Usage](#-usage)
5. [Configuration](#-configuration)
6. [Map Format](#-map-format)
7. [Textures & Materials](#-textures--materials)
8. [Keyboard Controls](#-keyboard-controls)
9. [Troubleshooting](#-troubleshooting)

## üöÄ About

RT_Xtrem is a 42 school project that creates a CPU-based 3D rendering engine using raytracing technology. The project is divided into two distinct parts: mandatory and bonus features.

The goal of our program is to generate images using the Raytracing protocol. These computer-generated images each represent a scene, as seen from a specific angle and position, defined by simple geometric objects, each with its own lighting system.

## ‚ú® Features

### Core Features
- ‚úÖ Classic raytracing rendering
- ‚úÖ Multiple material support
- ‚úÖ Custom map loading
- ‚úÖ Different rendering modes
- ‚úÖ Interactive interface

### Bonus Features
- ‚úÖ Texture and bump mapping support
- ‚úÖ Multithreading implementation
- ‚úÖ Advanced optimization flags
- ‚úÖ Keyboard layout options

## üîß Compilation

### Basic Compilation
```bash
# Mandatory version
make

# With bonus features
make bonus
```

### Optimization Flags
Customize your build with these essential flags:

```bash
# Enable aggressive optimizations
MEGA_PERF=1 make

# Custom resolution settings
MAX_RES_H=1080 MAX_RES_W=1920 make  # Default: 1080p

# Multithreading configuration
NB_THREAD=8 make           # Number of CPU threads (default: 8)
SIZE_CHUNK=4096 make       # Chunk size generated by threads

# Keyboard layout selection
KEY_BOARD=0 make           # 0 = QWERTY (default), 1 = AZERTY
```

### Complete Example
```bash
# High-performance build with 12 threads
MEGA_PERF=1 NB_THREAD=12 SIZE_CHUNK=8192 make bonus
```

## üéÆ Usage

### Basic Launch
```bash
# Maps must have .rt extension
./miniRT example_map.rt
```
## üó∫Ô∏è Map Format

Maps use the `.rt` extension with a specific structure:

### Basic Structure
```
# Comment lines start with hash
# Basic elements:
The first argument must be the short name.
The minimum and maximum values: [min, max value].
If not specify the minimum and maximum values ‚Äã‚Äãon a maximum of 7 digits with a decimal number or not.
There is only one ambiant lighting and one camera.

AMBIANT LIGHTING    0.2 255,255,255     # Name: A, Ratio [0.0,1.0], Color [0-255]
CAMERA      0,0,0 0,0,0 90              # Name: C, Position, Orientation [-1.0,1.0], FOV [0-180]
LIGHT       0,10,0 1.0 255,255,255      # Name: L, Position, Brightness [0.0,1.0], Color [0-255]
SPHERE      0,0,0 1.0 255,0,0           # Name: sp, Center, Radius, Color [0-255]
PLANE       0,1,0 0,1,0 0,0,255         # Name: pl, Point, Normal [-1.0,1.0], Color [0-255] 
CYLINDER    0,0,0 0,1,0 1.0 2.0 0,255,0 # Name: cy, Center, Normal [-1.0,1.0], Diameter, Height, Color
TRIANGLE    0.0,0.0,1 0.0,0.0,1 0.0,1,0 255,255,255 # Name: tr, Point 1, Point 2, Point 3, Color [0-255]
ELIPSOID    0,0,0 0,0,0 1,3,1 0.5 255,255,0         # Name: el, Position, Rotation, Scale, Size, Color [0-255]

You can add as a last optional argument on each object for the object's material [0-4].
On PLANE you can add as last optional arguments to get a checkboard pattern (1 1 255,255,255) size 1, size 2, color.
On SPHERE, you can add a texture and another for the normal map as optional last arguments. The order does not matter
for the material (the first texture will always be used for the texture and the second for the normal). You can add only a texture too.
More information below.
```

### Example Map
```
# Simple scene with sphere and light
C    0,0,5 0,0,-1 70
L    0,10,-10 0.8 255,255,255

sp   0,0,0 1.5 255,0,0
pl   0,-2,0 0,1,0 100,100,100
```

### Map Validation
```bash
# Check map syntax before rendering
./miniRT --check-map scene.rt

# Verbose validation
./miniRT --validate-map scene.rt --verbose
```

## üé® Textures & Materials

### Texture Support
Supported formats: PNG, JPEG, BMP
Place textures in `./textures/` directory

### Material Definition
```
# Basic material
MATERIAL diffuse 255,0,0 0.8 0.2 0.0

# Textured material
MATERIAL textured diffuse texture.png 0.7 0.3 0.0

# Bump mapping
MATERIAL bumpy diffuse concrete.png bump_map.png 0.5 0.3 0.2
```

### Available Material Types
- `diffuse` - Lambertian reflection
- `metal` - Metallic surface
- `dielectric` - Glass/transparent materials
- `emissive` - Light-emitting surfaces

## ‚å®Ô∏è Keyboard Controls

### Camera Movement
| Key | Action |
|-----|--------|
| `WASD` | Move camera forward/left/back/right |
| `QE` | Move camera up/down |
| `Arrow Keys` | Rotate camera |
| `Mouse Drag` | Look around |

### Rendering Controls
| Key | Action |
|-----|--------|
| `R` | Restart rendering |
| `P` | Save screenshot |
| `+/-` | Increase/decrease resolution |
| `T` | Toggle rendering mode |

### Material & Texture Controls
| Key | Action |
|-----|--------|
| `1-5` | Select material preset |
| `B` | Toggle bump mapping |
| `N` | Next texture |
| `M` | Change material properties |

### Interface Controls
| Key | Action |
|-----|--------|
| `F11` | Toggle fullscreen |
| `ESC` | Exit program |

### Multithreading Optimization
Adjust these settings based on your CPU:
- `NB_THREAD`: Set to your CPU core count
- `SIZE_CHUNK`: Larger values (8192+) for complex scenes
- `MEGA_PERF=1`: Always use for best performance

*Last updated: 03/09/2025*

never ask for additional support, please refer to the project documentation in the project repository.
